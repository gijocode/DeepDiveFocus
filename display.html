<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Text Display</title>
</head>
<body>
    <div class="container">
         <label for="darkThemeToggle">Dark theme:</label>
        <label class="switch">
            <input type="checkbox" id="darkThemeToggle">
            <span class="slider round"></span>
        </label>
        <div id="largeText"></div>
         <button id="pauseButton">Pause</button>
    </div>

    <script>
        // Retrieve input values from local storage
        const inputText = localStorage.getItem("inputText");
        const wordCount = parseInt(localStorage.getItem("wordCount"));
        const interval = parseInt(localStorage.getItem("interval"));
        console.log(inputText);
        console.log(wordCount);
        console.log(interval);
        var currentIndex = 0;
        var isPaused=false;
        if (!inputText || isNaN(wordCount) || isNaN(interval)) {
            // Handle missing or invalid values
            alert("Invalid input values.");
            window.location.href = "index.html"; // Redirect to the main page
        } else {
            var words = inputText.split(" ");

            function displayNextChunk() {
                if (!isPaused && currentIndex < words.length) {
                    const chunk = words.slice(currentIndex, currentIndex + wordCount).join(" ");
                    document.getElementById("largeText").textContent = chunk;
                    currentIndex += wordCount;
                    setTimeout(displayNextChunk, interval);
                } else if (currentIndex >= words.length) {
                    document.getElementById("largeText").textContent = "End of text.";
                }
            }

            // Start displaying text
            displayNextChunk();

            // Add a click event listener to the pause button
            const pauseButton = document.getElementById("pauseButton");
            pauseButton.addEventListener("click", function () {
                isPaused = !isPaused; // Toggle pause state
                if (isPaused) {
                    pauseButton.textContent = "Resume";
                } else {
                    pauseButton.textContent = "Pause";
                    displayNextChunk(); // Resume displaying text
                }
            });
        }
        function toggleDarkTheme() {
                const body = document.body;
                body.classList.toggle("dark-theme");
            }

            // Event listener for the dark theme toggle
            const darkThemeToggle = document.getElementById("darkThemeToggle");
            darkThemeToggle.addEventListener("change", toggleDarkTheme);
    </script>
</body>
</html>

